"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1806],{8378:(e,t,n)=>{n.r(t),n.d(t,{Accordion:()=>o,AccordionContent:()=>u,AccordionItem:()=>c,AccordionTrigger:()=>d});var r=n(14903),a=n(38147),s=n(35259),l=n(11903),i=n(69935);let o=a.bL,c=l.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.q7,{ref:t,className:(0,i.cn)("border-b",n),...s})});c.displayName="AccordionItem";let d=l.forwardRef((e,t)=>{let{className:n,children:l,...o}=e;return(0,r.jsx)(a.Y9,{className:"flex",children:(0,r.jsxs)(a.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 text-left text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...o,children:[l,(0,r.jsx)(s.A,{className:"h-4 w-4 shrink-0 text-neutral-500 transition-transform duration-200 dark:text-neutral-400"})]})})});d.displayName=a.l9.displayName;let u=l.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,r.jsx)(a.UC,{ref:t,className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...l,children:(0,r.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",n),children:s})})});u.displayName=a.UC.displayName},14e3:(e,t,n)=>{n.r(t),n.d(t,{Button:()=>c,buttonVariants:()=>o});var r=n(14903),a=n(31453),s=n(57950),l=n(11903),i=n(69935);let o=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:n,variant:s,size:l,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:n})),ref:t,...d})});c.displayName="Button"},26824:(e,t,n)=>{n.r(t),n.d(t,{Select:()=>d,SelectContent:()=>x,SelectGroup:()=>u,SelectItem:()=>j,SelectLabel:()=>g,SelectScrollDownButton:()=>f,SelectScrollUpButton:()=>h,SelectSeparator:()=>b,SelectTrigger:()=>p,SelectValue:()=>m});var r=n(14903),a=n(24144),s=n(35259),l=n(17738),i=n(21471),o=n(11903),c=n(69935);let d=a.bL,u=a.YJ,m=a.WT,p=o.forwardRef((e,t)=>{let{className:n,children:l,...i}=e;return(0,r.jsxs)(a.l9,{ref:t,className:(0,c.cn)("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-ring flex h-10 w-full items-center justify-between rounded-md border px-3 py-2 text-sm focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...i,children:[l,(0,r.jsx)(a.In,{asChild:!0,children:(0,r.jsx)(s.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=a.l9.displayName;let h=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=a.PP.displayName;let f=o.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...l,children:(0,r.jsx)(s.A,{className:"h-4 w-4"})})});f.displayName=a.wn.displayName;let x=o.forwardRef((e,t)=>{let{className:n,children:s,position:l="popper",...i}=e;return(0,r.jsx)(a.ZL,{children:(0,r.jsxs)(a.UC,{ref:t,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:l,...i,children:[(0,r.jsx)(h,{}),(0,r.jsx)(a.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(f,{})]})})});x.displayName=a.UC.displayName;let g=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...s})});g.displayName=a.JU.displayName;let j=o.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,r.jsxs)(a.q7,{ref:t,className:(0,c.cn)("outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50 relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm",n),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(a.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(a.p4,{children:s})]})});j.displayName=a.q7.displayName;let b=o.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.wv,{ref:t,className:(0,c.cn)("bg-muted -mx-1 my-1 h-px",n),...s})});b.displayName=a.wv.displayName},32623:(e,t,n)=>{n.r(t),n.d(t,{ResizableHandle:()=>c,ResizablePanel:()=>o,ResizablePanelGroup:()=>i});var r=n(14903),a=n(50862);n(11903);var s=n(52312),l=n(69935);function i(e){let{className:t,...n}=e;return(0,r.jsx)(s.YZ,{"data-slot":"resizable-panel-group",className:(0,l.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...n})}function o(e){let{...t}=e;return(0,r.jsx)(s.Zk,{"data-slot":"resizable-panel",...t})}function c(e){let{withHandle:t,className:n,...i}=e;return(0,r.jsx)(s.TW,{"data-slot":"resizable-handle",className:(0,l.cn)("bg-border focus-visible:ring-ring focus-visible:outline-hidden relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...i,children:t&&(0,r.jsx)("div",{className:"bg-border rounded-xs z-10 flex h-4 w-3 items-center justify-center border",children:(0,r.jsx)(a.A,{className:"size-2.5"})})})}},41806:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var r=n(14903),a=n(4473),s=n(65060),l=n(11903),i=n(69935),o=n(32623),c=n(32581),d=n(36545),u=n(8378),m=n(14e3);class p extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){var n,r;console.warn(this.props.eventType,e,t);let a="Fail to render ".concat(this.props.eventType," component: ").concat(e.message);null==(n=(r=this.props).onError)||n.call(r,a)}render(){return this.state.hasError?this.props.fallback||null:this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}var h=n(40776),f=n(52640),x=n(64175);let g="@/components/ui",j={react:()=>Promise.resolve().then(n.t.bind(n,11903,19)),"react-dom":()=>Promise.resolve().then(n.t.bind(n,66254,19)),["".concat(g,"/accordion")]:()=>Promise.resolve().then(n.bind(n,8378)),["".concat(g,"/alert")]:()=>n.e(4130).then(n.bind(n,64130)),["".concat(g,"/alert-dialog")]:()=>n.e(8339).then(n.bind(n,8339)),["".concat(g,"/aspect-ratio")]:()=>n.e(1122).then(n.bind(n,11122)),["".concat(g,"/avatar")]:()=>n.e(603).then(n.bind(n,603)),["".concat(g,"/badge")]:()=>n.e(3713).then(n.bind(n,93713)),["".concat(g,"/breadcrumb")]:()=>n.e(4131).then(n.bind(n,84131)),["".concat(g,"/button")]:()=>Promise.resolve().then(n.bind(n,14e3)),["".concat(g,"/calendar")]:()=>Promise.all([n.e(7940),n.e(9006)]).then(n.bind(n,39006)),["".concat(g,"/card")]:()=>n.e(50).then(n.bind(n,30050)),["".concat(g,"/carousel")]:()=>Promise.all([n.e(506),n.e(1102)]).then(n.bind(n,61102)),["".concat(g,"/chart")]:()=>Promise.all([n.e(3495),n.e(2396)]).then(n.bind(n,72396)),["".concat(g,"/checkbox")]:()=>n.e(238).then(n.bind(n,10238)),["".concat(g,"/collapsible")]:()=>n.e(7108).then(n.bind(n,37108)),["".concat(g,"/command")]:()=>n.e(5782).then(n.bind(n,75782)),["".concat(g,"/context-menu")]:()=>Promise.all([n.e(3905),n.e(6175)]).then(n.bind(n,86175)),["".concat(g,"/dialog")]:()=>n.e(7584).then(n.bind(n,87584)),["".concat(g,"/drawer")]:()=>Promise.all([n.e(4886),n.e(4847)]).then(n.bind(n,44847)),["".concat(g,"/dropdown-menu")]:()=>Promise.all([n.e(3905),n.e(2123)]).then(n.bind(n,42123)),["".concat(g,"/form")]:()=>Promise.all([n.e(8651),n.e(2582)]).then(n.bind(n,62582)),["".concat(g,"/hover-card")]:()=>n.e(1749).then(n.bind(n,91749)),["".concat(g,"/input")]:()=>n.e(8156).then(n.bind(n,28156)),["".concat(g,"/input-otp")]:()=>n.e(4479).then(n.bind(n,4479)),["".concat(g,"/label")]:()=>n.e(1002).then(n.bind(n,91002)),["".concat(g,"/menubar")]:()=>Promise.all([n.e(3905),n.e(2204)]).then(n.bind(n,72204)),["".concat(g,"/navigation-menu")]:()=>n.e(4197).then(n.bind(n,24197)),["".concat(g,"/pagination")]:()=>n.e(7192).then(n.bind(n,27192)),["".concat(g,"/popover")]:()=>n.e(663).then(n.bind(n,40663)),["".concat(g,"/progress")]:()=>n.e(9605).then(n.bind(n,59605)),["".concat(g,"/radio-group")]:()=>n.e(5545).then(n.bind(n,15545)),["".concat(g,"/resizable")]:()=>Promise.resolve().then(n.bind(n,32623)),["".concat(g,"/scroll-area")]:()=>n.e(6235).then(n.bind(n,66235)),["".concat(g,"/select")]:()=>Promise.resolve().then(n.bind(n,26824)),["".concat(g,"/separator")]:()=>n.e(4779).then(n.bind(n,44779)),["".concat(g,"/sheet")]:()=>n.e(4301).then(n.bind(n,34301)),["".concat(g,"/sidebar")]:()=>Promise.all([n.e(9409),n.e(4396)]).then(n.bind(n,54396)),["".concat(g,"/skeleton")]:()=>n.e(8473).then(n.bind(n,68473)),["".concat(g,"/slider")]:()=>n.e(5352).then(n.bind(n,75352)),["".concat(g,"/sonner")]:()=>Promise.all([n.e(8146),n.e(8491)]).then(n.bind(n,28491)),["".concat(g,"/switch")]:()=>n.e(1659).then(n.bind(n,11659)),["".concat(g,"/table")]:()=>n.e(1340).then(n.bind(n,11340)),["".concat(g,"/tabs")]:()=>n.e(6004).then(n.bind(n,86004)),["".concat(g,"/textarea")]:()=>n.e(5858).then(n.bind(n,75858)),["".concat(g,"/toggle")]:()=>n.e(5176).then(n.bind(n,55176)),["".concat(g,"/toggle-group")]:()=>n.e(6503).then(n.bind(n,96503)),["".concat(g,"/tooltip")]:()=>Promise.all([n.e(9409),n.e(8913)]).then(n.bind(n,48913)),"@llamaindex/chat-ui/widgets":()=>Promise.resolve().then(n.bind(n,27313)),"lucide-react":()=>Promise.all([n.e(2365),n.e(9259)]).then(n.bind(n,53076)),"@/components/lib/utils":()=>Promise.resolve().then(n.bind(n,69935)),"@/lib/utils":()=>Promise.resolve().then(n.bind(n,69935))};async function b(e){let t=[],n=null,r=(0,f.parse)(e,{sourceType:"module",plugins:["jsx","typescript"]});(0,x.default)(r,{ImportDeclaration(e){e.node.specifiers.forEach(n=>{("ImportSpecifier"===n.type||"ImportDefaultSpecifier"===n.type)&&t.push({name:n.local.name,source:e.node.source.value})})},ExportDefaultDeclaration(e){let t=e.node.declaration;"FunctionDeclaration"===t.type&&t.id?n=t.id.name:"Identifier"===t.type&&e.scope.hasBinding(t.name)&&(n=t.name)}});let a=t.map(async e=>{let{name:t,source:n}=e;if(!(n in j))throw Error("Fail to import ".concat(t," from ").concat(n,'. Reason: Module not found. \nCurrently we only support importing UI components from Shadcn components, widgets from "llamaindex/chat-ui/widgets" and icons from "lucide-react"'));try{let e=await j[n]();return{name:t,module:e[t]}}catch(e){throw Error("Failed to resolve import ".concat(t,". Please check the code and try again."))}}),s=await Promise.all(a),i={React:l};return s.forEach(e=>{let{name:t,module:n}=e;n&&(i[t]=n)}),{componentName:n,importMap:i}}async function v(){let e=(0,i.getConfig)("COMPONENTS_API");if(!e)return console.warn("/api/components endpoint is not defined in config"),{components:[],errors:[]};let t=await fetch(e),n=await t.json(),r=await Promise.all(n.map(async e=>{let{component:t,error:n}=await y(e.code,e.filename);return{type:e.type,comp:t,error:n}}));return{components:r.map(e=>({type:e.type,comp:e.comp})).filter(e=>null!==e.comp),errors:r.map(e=>e.error).filter(e=>void 0!==e)}}async function y(e,t){try{let[n,r]=await Promise.all([w(e,t),b(e)]);return{component:await N(n,r.importMap,r.componentName)}}catch(e){return console.warn("Failed to parse component from ".concat(t),e),{component:null,error:e instanceof Error?e.message:"Unknown error"}}}async function w(e,t){let n=h.transform(e,{presets:["react","typescript"],plugins:[()=>({visitor:{ImportDeclaration(e){e.remove()},ExportDefaultDeclaration(e){e.replaceWith(e.node.declaration)}}})],filename:t}).code;if(!n)throw Error("Transpiled code is empty for ".concat(t));return n}async function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Component",r=Object.keys(t),a=Object.values(t);return Function(...r,"".concat(e,"; return ").concat(n,";"))(...a)}let C=["js","ts","jsx","tsx","javascript","typescript"];function D(){let{displayedArtifact:e}=(0,a.ix)();return(null==e?void 0:e.type)!=="code"?null:C.includes(e.data.language)?(0,r.jsx)(A,{artifact:e}):(0,r.jsx)("div",{className:"flex h-full items-center justify-center gap-2",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Preview is not supported for this language"})})}function A(e){let{artifact:t}=e,{appendErrors:n}=(0,a.ix)(),[s,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)(null),{data:{code:u,file_name:m}}=t;return((0,l.useEffect)(()=>{(async()=>{i(!0);let{component:e,error:r}=await y(u,m);r?(d(null),n(t,[r])):d(()=>e),i(!1)})()},[t]),s)?(0,r.jsxs)("div",{className:"flex h-full items-center justify-center gap-2",children:[(0,r.jsx)(c.A,{className:"size-4 animate-spin"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Rendering Artifact..."})]}):o?(0,r.jsx)(p,{onError:e=>n(t,[e]),children:l.createElement(o)}):(0,r.jsx)(S,{artifact:t})}function S(e){let{artifact:t}=e,{getCodeErrors:n,fixCodeErrors:s}=(0,a.ix)(),l=n(t);return 0===l.length?null:(0,r.jsxs)("div",{className:"flex flex-col gap-10 px-10 pt-10",children:[(0,r.jsx)("p",{className:"text-center text-sm text-gray-500",children:"Error when rendering code, please check the details and try fixing them."}),(0,r.jsx)(u.Accordion,{type:"single",defaultValue:"errors",collapsible:!0,className:"w-full rounded-xl border border-gray-100 bg-white shadow-md",children:(0,r.jsxs)(u.AccordionItem,{value:"errors",className:"border-none px-4",children:[(0,r.jsx)(u.AccordionTrigger,{className:"py-2 hover:no-underline",children:(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground font-bold",children:"Rendering errors"}),(0,r.jsx)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-yellow-500 text-xs text-white",children:l.length})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("div",{className:(0,i.cn)((0,m.buttonVariants)({variant:"default",size:"sm"}),"mr-2 h-8 cursor-pointer bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600"),onClick:e=>{e.stopPropagation(),s(t)},children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Fix errors"})]})})]})}),(0,r.jsx)(u.AccordionContent,{className:"pb-4",children:(0,r.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:e},t))})})]})})]})}function P(){let{displayedArtifact:e,isCanvasOpen:t}=(0,a.ix)();return e&&t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ResizableHandle,{withHandle:!0}),(0,r.jsx)(o.ResizablePanel,{defaultSize:60,minSize:50,children:(0,r.jsxs)(a.H_,{className:"w-full",children:[(0,r.jsx)(a.H_.CodeArtifact,{tabs:{preview:(0,r.jsx)(D,{})}}),(0,r.jsx)(a.H_.DocumentArtifact,{})]})})]}):null}var E=n(89886),z=n(93381);function F(){return(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 pt-2",children:[(0,r.jsx)(L,{}),(0,r.jsx)(k,{})]})}function L(){return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(E.A,{className:"size-4"}),(0,r.jsx)("h1",{className:"font-semibold",children:(0,i.getConfig)("APP_TITLE")})]})}function k(){return(0,r.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("a",{href:"https://www.llamaindex.ai/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:"Built by LlamaIndex"}),(0,r.jsx)("img",{className:"h-[24px] w-[24px] rounded-sm",src:"/llama.png",alt:"Llama Logo"})]}),(0,r.jsx)("a",{href:"https://github.com/run-llama/LlamaIndexTS",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(m.Button,{variant:"outline",size:"sm",children:[(0,r.jsx)(z.A,{className:"mr-2 size-4"}),"Star on GitHub"]})})]})}function _(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("script",{async:!0,src:"https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"}),(0,r.jsx)("style",{type:"text/tailwindcss",children:'\n@import "tailwindcss";\n\n@layer base {\n  *,\n  ::after,\n  ::before,\n  ::backdrop,\n  ::file-selector-button {\n    border-color: var(--color-gray-200, currentColor);\n  }\n}\n'})]})}var R=n(27313),I=n(26824);function M(e){let{onSelect:t,defaultPipeline:n,shouldCheckValid:s=!1}=e,{setRequestData:o}=(0,a.ov)(),[d,u]=(0,l.useState)(),m=(0,l.useCallback)(e=>{o?o({llamaCloudPipeline:e}):null==t||t(e)},[t,o]);(0,l.useEffect)(()=>{!d&&(0,i.getConfig)("LLAMA_CLOUD_API")&&fetch((0,i.getConfig)("LLAMA_CLOUD_API")).then(e=>e.ok?e.json():e.json().then(e=>{window.alert("Error: ".concat(JSON.stringify(e)||"Unknown error occurred"))})).then(e=>{let t=null!=n?n:e.pipeline;u({...e,pipeline:t}),m(t)}).catch(e=>console.error("Error fetching config",e))},[d,n,m]);let p=e=>{u(t=>({...t,pipeline:e})),m(e)},h=async e=>{p(JSON.parse(e))};if(!d)return(0,r.jsx)("div",{className:"flex items-center justify-center p-3",children:(0,r.jsx)(c.A,{className:"h-4 w-4 animate-spin"})});if(s&&!T(d.projects,d.pipeline))return(0,r.jsx)("p",{className:"text-red-500",children:"Invalid LlamaCloud configuration. Check console logs."});let{projects:f,pipeline:x}=d;return(0,r.jsxs)(I.Select,{onValueChange:h,defaultValue:T(f,x,!1)?JSON.stringify(x):void 0,children:[(0,r.jsx)(I.SelectTrigger,{className:"w-[200px]",children:(0,r.jsx)(I.SelectValue,{placeholder:"Select a pipeline"})}),(0,r.jsx)(I.SelectContent,{children:f.map(e=>(0,r.jsxs)(I.SelectGroup,{children:[(0,r.jsxs)(I.SelectLabel,{className:"capitalize",children:["Project: ",e.name]}),e.pipelines.map(t=>(0,r.jsx)(I.SelectItem,{className:"last:border-b",value:JSON.stringify({pipeline:t.name,project:e.name}),children:(0,r.jsx)("span",{className:"pl-2",children:t.name})},t.id))]},e.id))})]})}function T(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!(null==e?void 0:e.length)||!t)return!1;let r=e.find(e=>e.name===t.project);return r?!!r.pipelines.some(e=>e.name===t.pipeline)||(n&&console.error("LlamaCloud pipeline ".concat(t.pipeline," not found. Check LLAMA_CLOUD_INDEX_NAME variable")),!1):(n&&console.error("LlamaCloud project ".concat(t.project," not found. Check LLAMA_CLOUD_PROJECT_NAME variable")),!1)}function U(){var e,t;let{requestData:n,isLoading:s,input:l}=(0,a.ov)(),o=null!=(e=(0,i.getConfig)("UPLOAD_API"))?e:"",c=null!=(t=(0,i.getConfig)("LLAMA_CLOUD_API"))?t:"",{imageUrl:d,setImageUrl:u,uploadFile:m,files:p,removeDoc:h,reset:f,getAnnotations:x}=(0,a.yT)({uploadAPI:o}),g=async e=>{if(d)return void alert("You can only upload one image at a time.");try{await m(e,n)}catch(e){alert(e instanceof Error?e.message:"An unknown error occurred")}},j=x();return(0,r.jsxs)(a.VA,{resetUploadedFiles:f,annotations:j,children:[d&&(0,r.jsx)(R.ImagePreview,{url:d,onRemove:()=>u(null)}),p.length>0&&(0,r.jsx)("div",{className:"flex w-full gap-4 overflow-auto py-2",children:p.map(e=>(0,r.jsx)(R.DocumentInfo,{document:{url:e.url,sources:[]},className:"mb-2 mt-2",onRemove:()=>h(e)},e.id))}),(0,r.jsxs)(a.VA.Form,{children:[(0,r.jsx)(a.VA.Field,{}),o&&(0,r.jsx)(a.VA.Upload,{onUpload:g}),c&&(0,r.jsx)(M,{}),(0,r.jsx)(a.VA.Submit,{disabled:s||!l.trim()&&0===p.length&&!d})]})]})}function O(){return(0,r.jsx)(a.cM.Avatar,{children:(0,r.jsx)("img",{className:"border-1 rounded-full border-[#e711dd]",src:"/llama.png",alt:"Llama Logo"})})}let V=Object.values(a.nv),Y=e=>{let{componentDefs:t,appendError:n}=e,{message:{annotations:s}}=(0,a.mY)(),i=(0,l.useRef)(new Set),[o,c]=(0,l.useState)(!1),d=e=>{c(!0),n(e)};(0,l.useEffect)(()=>{if(!(null==s?void 0:s.length))return;let e=new Set(t.map(e=>e.type));s.forEach(t=>{let n=t.type;if(!n)return;let r=(0,a.Y8)(s,n);V.includes(n)||i.current.has(n)||r&&!e.has(n)&&(console.warn("No component found for event type: ".concat(n," or having error when rendering it. Ensure there is a component file named ").concat(n,".tsx or ").concat(n,".jsx in your components directory, and verify the code for any errors.")),i.current.add(n))})},[s,t]);let u=t.map(e=>{let t=(0,a.Y8)(s,e.type);return(null==t?void 0:t.length)?{...e,events:t}:null}).filter(e=>null!==e);return 0===u.length||o?null:(0,r.jsx)("div",{className:"components-container",children:u.map((e,t)=>(0,r.jsx)(l.Fragment,{children:function(e,t){return(0,r.jsx)(p,{onError:t,eventType:e.type,children:l.createElement(e.comp,{events:e.events})})}(e,d)},"".concat(e.type,"-").concat(t)))})},B={0:{icon:(0,r.jsx)("span",{children:"☀️"}),status:"Clear sky"},1:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF24️"}),status:"Mainly clear"},2:{icon:(0,r.jsx)("span",{children:"☁️"}),status:"Partly cloudy"},3:{icon:(0,r.jsx)("span",{children:"☁️"}),status:"Overcast"},45:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF2B️"}),status:"Fog"},48:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF2B️"}),status:"Depositing rime fog"},51:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Drizzle"},53:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Drizzle"},55:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Drizzle"},56:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Freezing Drizzle"},57:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Freezing Drizzle"},61:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain"},63:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain"},65:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain"},66:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Freezing Rain"},67:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Freezing Rain"},71:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow fall"},73:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow fall"},75:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow fall"},77:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow grains"},80:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain showers"},81:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain showers"},82:{icon:(0,r.jsx)("span",{children:"\uD83C\uDF27️"}),status:"Rain showers"},85:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow showers"},86:{icon:(0,r.jsx)("span",{children:"❄️"}),status:"Snow showers"},95:{icon:(0,r.jsx)("span",{children:"⛈️"}),status:"Thunderstorm"},96:{icon:(0,r.jsx)("span",{children:"⛈️"}),status:"Thunderstorm"},99:{icon:(0,r.jsx)("span",{children:"⛈️"}),status:"Thunderstorm"}},J=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long"});function H(e){let{data:t}=e,n=new Date(t.current.time).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return(0,r.jsxs)("div",{className:"w-fit space-y-4 rounded-2xl bg-[#61B9F2] p-5 text-white shadow-xl",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xl",children:n}),(0,r.jsxs)("div",{className:"flex gap-4 text-5xl font-semibold",children:[(0,r.jsxs)("span",{children:[t.current.temperature_2m," ",t.current_units.temperature_2m]}),B[t.current.weather_code].icon]})]}),(0,r.jsx)("span",{className:"text-xl",children:B[t.current.weather_code].status})]}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2",children:t.daily.time.map((e,n)=>0===n?null:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("span",{children:J(e)}),(0,r.jsx)("div",{className:"text-4xl",children:B[t.daily.weather_code[n]].icon}),(0,r.jsx)("span",{className:"text-sm",children:B[t.daily.weather_code[n]].status})]},e))})]})}function G(){let{messages:e}=(0,a.ov)(),{message:t}=(0,a.mY)(),n=(0,l.useMemo)(()=>(function(e,t){let n="id"in t?t.id:void 0;if(!n)return;let r=1;for(let t of e){let e=t.annotations?(0,a.Y8)(t.annotations,"tools"):null;if(null==e?void 0:e.some(e=>"artifact"===e.toolCall.name)){if("id"in t&&t.id===n)return r;r++}}})(e,t),[e,t]),s=t.annotations,i=s?(0,a.Y8)(s,"tools"):null;return(null==i?void 0:i[0])?(0,r.jsx)(q,{data:i[0],artifactVersion:n}):null}function q(e){let{data:t,artifactVersion:n}=e;if(!t)return null;let{toolCall:a,toolOutput:s}=t;if(s.isError)return(0,r.jsxs)("div",{className:"border-l-2 border-red-400 pl-2",children:["There was an error when calling the tool ",a.name," with input:"," ",(0,r.jsx)("br",{}),JSON.stringify(a.input)]});if("get_weather_information"!==a.name)return null;{let e=s.output;return(0,r.jsx)(H,{data:e})}}function Q(e){let{componentDefs:t,appendError:n}=e;return(0,r.jsxs)(a.cM.Content,{children:[(0,r.jsx)(a.cM.Content.Event,{}),(0,r.jsx)(a.cM.Content.AgentEvent,{}),(0,r.jsx)(G,{}),(0,r.jsx)(a.cM.Content.Image,{}),(0,r.jsx)(Y,{componentDefs:t,appendError:n}),(0,r.jsx)(a.cM.Content.Artifact,{}),(0,r.jsx)(a.cM.Content.Markdown,{}),(0,r.jsx)(a.cM.Content.DocumentFile,{}),(0,r.jsx)(a.cM.Content.Source,{}),(0,r.jsx)(a.cM.Content.SuggestedQuestions,{})]})}function W(e){var t;let{className:n}=e,{append:s,messages:l,requestData:o}=(0,a.ov)(),c=null!=(t=(0,i.getConfig)("STARTER_QUESTIONS"))?t:[];return 0===c.length||l.length>0?null:(0,r.jsx)(R.StarterQuestions,{append:e=>s(e,{data:o}),questions:c,className:n})}function X(e){let{componentDefs:t,appendError:n}=e,{messages:s}=(0,a.ov)();return(0,r.jsxs)(a.tP,{children:[(0,r.jsxs)(a.tP.List,{children:[s.map((e,l)=>(0,r.jsxs)(a.cM,{message:e,isLast:l===s.length-1,children:[(0,r.jsx)(O,{}),(0,r.jsx)(Q,{componentDefs:t,appendError:n}),(0,r.jsx)(a.cM.Actions,{})]},l)),(0,r.jsx)(a.tP.Empty,{}),(0,r.jsx)(a.tP.Loading,{})]}),(0,r.jsx)(W,{})]})}n(35768),n(93971);var Z=n(33475);function $(e){let{errors:t,clearErrors:n}=e;return 0===t.length?null:(0,r.jsx)(u.Accordion,{type:"single",defaultValue:"errors",collapsible:!0,className:"rounded-xl border border-gray-100 bg-white shadow-md",children:(0,r.jsxs)(u.AccordionItem,{value:"errors",className:"border-none px-4",children:[(0,r.jsx)(u.AccordionTrigger,{className:"py-2 hover:no-underline",children:(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground font-bold",children:"Errors when rendering dynamic events from components directory"}),(0,r.jsx)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-yellow-500 text-xs text-white",children:t.length})]}),(0,r.jsxs)("div",{className:(0,i.cn)((0,m.buttonVariants)({variant:"ghost",size:"sm"})),onClick:e=>{e.stopPropagation(),n()},children:[(0,r.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Clear all"})]})]})}),(0,r.jsx)(u.AccordionContent,{className:"pb-4",children:(0,r.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:e},t))})})]})})}function K(){let e=(0,s.Y_)({api:(0,i.getConfig)("CHAT_API"),onError:e=>{let t;if(!(e instanceof Error))throw e;try{t=JSON.parse(e.message).detail}catch(n){t=e.message}alert(t)},experimental_throttle:100});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex h-screen w-screen flex-col overflow-hidden",children:[(0,r.jsx)(F,{}),(0,r.jsx)(a.G$,{handler:e,className:"flex min-h-0 flex-1 flex-row justify-center gap-4 px-4 py-0",children:(0,r.jsxs)(o.ResizablePanelGroup,{direction:"horizontal",children:[(0,r.jsx)(ee,{}),(0,r.jsx)(P,{})]})})]}),(0,r.jsx)(_,{})]})}function ee(){let[e,t]=(0,l.useState)([]),[n,a]=(0,l.useState)([]),s=(0,l.useMemo)(()=>Array.from(new Set(n)),[n]);return(0,l.useEffect)(()=>{v().then(e=>{let{components:n,errors:r}=e;t(n),r.length>0&&a(e=>[...e,...r])})},[]),(0,r.jsx)(o.ResizablePanel,{defaultSize:40,minSize:30,className:"max-w-1/2 mx-auto",children:(0,r.jsxs)("div",{className:"flex h-full min-w-0 flex-1 flex-col gap-4",children:[(0,r.jsx)($,{errors:s,clearErrors:()=>a([])}),(0,r.jsx)(X,{componentDefs:e,appendError:e=>{a(t=>[...t,e])}}),(0,r.jsx)(U,{})]})})}},69935:(e,t,n)=>{n.r(t),n.d(t,{cn:()=>s,getConfig:()=>l});var r=n(19452),a=n(41657);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.$)(t))}let l=e=>{var t;return null==(t=window.LLAMAINDEX)?void 0:t[e]}}}]);